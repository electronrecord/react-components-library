import{j as h,a as n,F as C,r as y,u as I,b as k,L as g,s as F}from"./index-7e9767ee.js";const j=function({name:e="",data:t={},onChange:o=()=>{}}){const{label:r,value:s}=t;return h("div",{className:"base-radio",children:[r==null?void 0:r.map(a=>h("span",{children:[n("input",{type:"radio",name:e,id:a,checked:s===a,onChange:p=>o(a)}),n("label",{htmlFor:a,children:a})]},a)),n("br",{})]})};const q=function({name:e="",data:t={},onChange:o=()=>{}}){const{label:r,value:s}=t;return h("div",{className:"base-checkbox",children:[r==null?void 0:r.map(a=>h("span",{children:[n("input",{type:"checkbox",name:e,id:a,checked:s.includes(a),onChange:p=>o(a)}),n("label",{htmlFor:a,children:a})]},a)),n("br",{})]})},B=function({name:e="",data:t={},onInput:o=()=>{}}){const{id:r,label:s,value:a,placeholder:p}=t;return h("label",{htmlFor:r||e,className:"base-textarea",children:[n("span",{children:s}),n("textarea",{id:r||e,value:a,placeholder:p,onInput:d=>o(d.target.value),children:a})]})},D=function({name:e="",data:t={},onInput:o=()=>{}}){const{invalid:r="",value:s="",textarea:a="",label:p="",type:d="text",id:f="",placeholder:i=""}=t,u={required:"Acest camp este obligatoriu",email:"Acest camp trebuie sa fie in formatul email",max:"Maxim 6 caractere"};function l(c){o({key:e,value:c})}function b(c){const m=[...s],x=m.findIndex(w=>w===c);x>-1?m.splice(x,1):m.push(c),o({key:e,value:m})}return h("label",{htmlFor:f||e,className:"base-input",children:[(d==="text"||d==="password")&&h(C,{children:[h("span",{children:[p,":"]}),n("br",{}),n("input",{type:d||"text",placeholder:i,value:s,id:f||e,onInput:c=>l(c.target.value)})]}),d==="radio"&&n(j,{name:e,data:t,onChange:l}),d==="checkbox"&&n(q,{name:e,data:t,onChange:b}),d==="textarea"&&n(B,{name:e,data:t,onInput:l}),r&&n("span",{className:"validation-msg",children:u[r]})]})},v=function({rule:e,value:t}){switch(e){case"required":return t.length?"":e;case"email":return/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/.test(t)?"":e;case"max":return t.length>6;default:return""}},N=function({onSubmit:e,data:t={},buttonText:o="",children:r=[]}){const[s,a]=y.useState({...t});function p(i){if(i.preventDefault(),Object.keys(s).forEach(l=>{f(l)}),Object.keys(s).every(l=>s[l].invalid==="")){const l=Object.keys(s).reduce((b,c)=>(b[c]=s[c].value,b),{});e(l)}}function d({key:i,value:u}){a(l=>({...l,[i]:{...l[i],value:u,invalid:l[i].rule.split("|").reduce((b,c)=>b||v({rule:c,value:u}),"")}}))}function f(i){a(u=>({...u,[i]:{...u[i],invalid:u[i].rule.split("|").reduce((l,b)=>l||v({rule:b,value:u[i].value}),"")}}))}return h("form",{onSubmit:p,children:[...r,r.length===0&&Object.keys(t).map(i=>n(D,{name:i,data:s[i],onInput:d},i)),o&&n("button",{children:o})]})},S=function(){const e={name:{label:"Name",value:"",rule:"required|email",placeholder:"your name"},age:{label:["Child","Adult"],type:"radio",value:"",rule:"required"},pets:{label:["Caini","Pisici","Papagali"],type:"checkbox",value:[],rule:"required"},password:{name:"password",label:"Password",value:"",type:"password",rule:"required",placeholder:"your password"},description:{name:"description",label:"Description",value:"",type:"textarea",rule:"required",placeholder:"description"}},t=I(),{data:o={},isLoading:r,error:s}=k("1");y.useEffect(()=>{},[]);async function a(p){t(F(p))}return h("main",{children:[n("h1",{children:"This is Dashboard page"}),n("h1",{children:o.title}),n("p",{children:o.body}),n(N,{data:e,onSubmit:a,buttonText:"Login"}),n(g,{to:"/dashboard",children:"Go to Dashboard"}),n(g,{to:"/login",children:"Go to Login"})]})};export{S as DashboardView,S as default};
